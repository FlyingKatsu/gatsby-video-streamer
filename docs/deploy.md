| [GitHub Repo](https://github.com/FlyingKatsu/gatsby-video-streamer) | [Live Demo](https://video.flyingkatsu.com) |

# Deploy your Website

The official GatsbyJS documentation describes several methods for deploying to various web services.

The [Live Demo](https://video.flyingkatsu.com) deploys via [Netlify](https://app.netlify.com/), which will automatically provision a [Let's Encrypt](https://letsencrypt.org/docs/client-options/) certificate for HTTPS if you set up a custom domain. 
Recall that HTTPS is required for the OpenPlayerJS video player to stream your videos.

The downside of using Netlify is that you don't use a traditional (S)FTP client, so updating your files manually is far from instantaneous. 
It's best to only rely on Netlify for simple demos, rather than rely on it for a full-blown website with lots of video files.

[See the docs for deploying to Netlify](https://www.gatsbyjs.org/docs/hosting-on-netlify#upload-site-folder)

If you choose to use Netlify, you will need to upload folder that looks like this:

```
upload/
    .htaccess
    stream/
        dash/
            my-video/
                stream.mpd
                audio/
                video/
        hls/
            my-video/
                stream.m3u8
                segment.ts
    public/
        blog/
        playlist/
        video/
        static/
        index.html
```

where  
- `stream` contains all the necessary stream files, with the original directory structure preserved
- `public` contains all the files generated by `gatsby build` or `npm run build`
- `.htaccess` prevents hotlinking of files in `stream/` and `public/static/`

NOTE: This structure has not yet been tested, so treat this as WIP for now